#:import get_color_from_hex kivy.utils.get_color_from_hex
MDScreen:
  MDBoxLayout:
    ScreenManager
      id: tools_browser
      MDScreen:
        id: table_tool
        name: 'table_tool'
        MDNavigationLayout:
          ScreenManager:
            MDScreen:
              MDToolbar:
                id: toolbar
                size_hint:(1,0.05)
                pos_hint: {"top": 1}
                elevation: 10
                title: ""
                left_action_items: [['filter-menu', lambda x: nav_drawer.set_state("open"),"Model filters"], ["menu", lambda x: app.table_menu(x),"Table operations"]]
              MDBoxLayout:
                id: main_layout
                size_hint:(1,0.95)
                orientation: 'horizontal'
                MDBoxLayout:
                  orientation: 'vertical'
                  size_hint: (1,1)
                  MDCard:
                    id: table_part
                    size_hint: (1,1)
                    elevation: 0
                MDBoxLayout:
                  id: preview_part
                  orientation: 'vertical'
                  size_hint:(.5,1)
                  Carousel:
                    id: preview_image
                    direction: 'right'
          MDNavigationDrawer:
            id: nav_drawer
            elevation: 10
            MDGridLayout:
              id: filters_part
              cols:1
              size_hint: (0.2,1)
              MDLabel:
                halign: 'center'
                text: "Filters"
                size_hint: (1,0.1)
              MDCard:
                MDGridLayout:
                  cols:1
                  MDLabel:
                    halign: 'center'
                    text: "Authors"
                    size_hint: (1,0.1)
                  AnchorLayout:
                    anchor_x: 'center'
                    anchor_y: 'top'
                    Spinner:
                      id: authors_filter
                      text: 'All'
                      size_hint: 1, None
                      values: 'All',
      MDScreen:
        id: details_tool
        name: 'details_tool'
        MDLabel:
          halign: 'center'
          text: "Details"
          size_hint: (1,0.1)
      MDScreen:
        id: import_tool
        name: 'import_tool'
        MDLabel:
          halign: 'center'
          text: "Import"
          size_hint: (1,0.1)
    MDNavigationRail:
      id: rail
      use_hover_behavior: True
      visible:'Persistent'
      hover_bg: 0, 0, 0, .2
      md_bg_color: get_color_from_hex("#344954")
      color_normal: get_color_from_hex("#718089")
      color_active: get_color_from_hex("#f3ab44")
      MDNavigationRailItem:
        id: nav_table_item
        text: "Table"
        visible:'Persistant'
        on_press: root.ids.tools_browser.current = "table_tool"
      MDNavigationRailItem:
        text: "Edit"
        visible:'Persistant'
        on_press: root.ids.tools_browser.current = "details_tool"
      MDNavigationRailItem:
        text: "Add"
        visible:'Persistant'
        on_press: root.ids.tools_browser.current = "import_tool"
